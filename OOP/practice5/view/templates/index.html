<!doctype html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/reset.css') }}" />
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}" />
    <script defer src="{{ url_for('static', filename='js/script.js') }}"></script>
    <title>Calculator</title>
</head>
<body>

<div class="clc-page">
    <header class="header">
        <div class="container">
            <h1 class="header__title">Калькулятор MVC</h1>
        </div>
    </header>
    <div class="clc-page__content">

        <div class="container">
            <main class="main">
                <h2 class="main__title">Реализация калькулятора с примером паттерна MVC</h2>
                <div class="main__box">
                    <p type="text" id="out-expression">
                           {% if answer %}
                            {{ answer }}
                           {% else %}
                            0
                           {% endif %}
                           </p>

                    <p class="main__form calc" id="expression">0</p>
                        <div class="calc__box-input">
                            <p class="calc__input-label" >Введите число с помощью кнопок на экране: </p>
                            <p class="calc__input-area" id="query">{{ answer_val }}</p>
                        </div>
                        <div class="calc__controls">
                            <div class="calc__numbers">
                                <button class="btn calc__btn numbers" value="7">7</button>
                                <button class="btn calc__btn numbers" value="8">8</button>
                                <button class="btn calc__btn numbers" value="9">9</button>
                                <button class="btn calc__btn numbers" value="4">4</button>
                                <button class="btn calc__btn numbers" value="5">5</button>
                                <button class="btn calc__btn numbers" value="6">6</button>
                                <button class="btn calc__btn numbers" value="1">1</button>
                                <button class="btn calc__btn numbers" value="2">2</button>
                                <button class="btn calc__btn numbers" value="3">3</button>
                                <button class="btn calc__btn numbers" value="0">0</button>
                                <button class="btn calc__btn numbers" value=".">.</button>
                            </div>
                            <div class="calc__operators">
                                <button class="btn calc__btn operators" value="/">/</button>
                                <button class="btn calc__btn operators" value="*">*</button>
                                <button class="btn calc__btn operators" value="-">-</button>
                                <button class="btn calc__btn operators" value="+">+</button>
                                <button class="btn calc__btn operators" value="del">clear</button>
                            </div>
                        </div>
                    <form  method="post" >
                        <div class="calc__expression">
                            <input type="hidden" name="exp" id="exp">

                        </div>
                        <button class="btn_submit" type="submit">=</button>
                    </form>

                </div>
            </main>

            <section class="history">
                {% if history %}
                <h2 class="history__title">история вычислений</h2>
                <ul class="history__list">
                    {% for h_id, res in history.items() %}
                        <li class="history__item">
                            {{ res.get('expression') }}
                        </li>
                    {% endfor %}
                </ul>

                {% else %}
                <p>Истории вычислений нет</p>
                {% endif%}
            </section>
        </div>

    </div>
    <footer class="footer">
        <div class="container">
            <p class="footer__text">OOP Lessons</p>
        </div>
    </footer>
</div>

</body>
</html>